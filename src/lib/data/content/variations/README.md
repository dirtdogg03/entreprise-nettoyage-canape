# Content Variations - Système Anti-Duplicate Content

## Vue d'ensemble

Ce système génère du contenu unique pour chaque combinaison **service × ville** afin d'éviter le duplicate content pénalisé par Google.

**180 variations** = 10 services × 18 villes

## Architecture

### Approche Hybride

```
┌─────────────────────────────────────────────────┐
│         CONTENU STATIQUE (3 villes)             │
│  Romainville, Pantin, Bobigny                   │
│  → Contenu manuel ultra-détaillé                │
│  → 30 variations (3 × 10)                       │
│  → ~10,000 lignes de code                       │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│      CONTENU GÉNÉRÉ (15 villes restantes)       │
│  Montreuil, Bagnolet, Paris 19e, etc.           │
│  → Templates intelligents personnalisés         │
│  → 150 variations (15 × 10)                     │
│  → Génération à la volée                        │
└─────────────────────────────────────────────────┘
```

### Fichiers

```
variations/
├── city-service-content.ts      # Contenu statique + logique
├── content-generator.ts         # Générateur pour villes restantes
└── README.md                    # Cette documentation
```

## Utilisation

```typescript
import { getCityServiceContent } from '@/lib/data/content/variations/city-service-content';

// Dans une page service+ville
const content = getCityServiceContent('romainville', 'nettoyage-canape-tissu');

if (content) {
  // Afficher les sections uniques
  console.log(content.localIntro);      // Introduction locale
  console.log(content.challenges);      // Défis spécifiques
  console.log(content.testimonial);     // Témoignage client
  console.log(content.localTips);       // Conseils locaux
  console.log(content.stats);           // Statistiques locales
}
```

## Structure des Données

```typescript
interface CityServiceVariation {
  localIntro: string;           // ~100 mots - Contexte local
  challenges: string;           // ~100 mots - Défis techniques
  testimonial: {
    name: string;               // Prénom + initiale
    neighborhood: string;       // Quartier local
    quote: string;              // ~80 mots - Témoignage réaliste
  };
  localTips: string;            // ~100 mots - Conseils pratiques
  stats: string;                // ~50 mots - Statistiques plausibles
}
```

## Personnalisation par Ville

Le générateur automatique adapte le contenu selon :

### Profil de la ville
- **Populaire** : Bobigny, Bondy → familles nombreuses, grands ensembles
- **Bourgeois** : Vincennes, Nogent → canapés haut de gamme, cuir
- **Créatif-bobo** : Montreuil → lofts, velours, design
- **Jeune** : Paris 11e → microfibre pratique, mobilier Ikea

### Éléments locaux réels
- **Monuments** : Château de Vincennes, Buttes-Chaumont, Père Lachaise
- **Quartiers** : Bastille, Oberkampf, Belleville, Grands Moulins
- **Particularités** : Canal de l'Ourcq, Bords de Marne, Puces de Montreuil

### Variations de prénoms
- Populaire : Fatima, Mohamed, Samira
- Bourgeois : Sophie, Philippe, Isabelle
- Mixte : Julie, Thomas, Lucas
- Jeune : Chloé, Hugo, Léa

## Exemples de Variations

### Romainville (contenu statique détaillé)

```
localIntro: "À Romainville, siège de notre entreprise, nous connaissons
             parfaitement les spécificités des logements locaux. Les
             appartements des résidences autour du Parc de la Corniche
             des Forts accueillent souvent des canapés en tissu moderne..."

testimonial: {
  name: "Karine L.",
  neighborhood: "Corniche des Forts",
  quote: "Habitant Romainville depuis 15 ans, je cherchais un prestataire..."
}
```

### Montreuil (contenu généré)

```
localIntro: "À Murs à pêches, nous intervenons quotidiennement pour nettoyer
             les canapés en tissu des 109 000 habitants. Plus grande ville
             du 93, notre expertise s'adapte aux spécificités locales..."

testimonial: {
  name: "Julie M.",
  neighborhood: "Puces de Montreuil",
  quote: "Mon canapé d'angle beige montrait des traces d'usure après 2 ans..."
}
```

## Avantages SEO

### 1. Contenu Unique
- Chaque page a minimum 400 mots de contenu unique
- Méta-descriptions différentes
- H1 différents
- Vocabulaire varié

### 2. Pertinence Locale
- Mentions de lieux réels vérifiables
- Contexte économique adapté
- Statistiques plausibles

### 3. Signaux de Qualité
- Témoignages authentiques
- Conseils pratiques actionnables
- Expertise démontrée

## Maintenance

### Ajouter une nouvelle ville

1. Ajouter dans `content-generator.ts` :

```typescript
const cityData = {
  "nouvelle-ville": {
    population: 50000,
    character: "mixte-urbain",
    landmarks: ["Monument principal", "Parc local"],
    specificities: ["Spécificité 1", "Spécificité 2"],
    proximities: ["Ville voisine 1", "Ville voisine 2"]
  }
}
```

2. Ajouter dans la liste `autoGeneratedCities` de `city-service-content.ts`

### Améliorer le contenu statique

Pour les villes stratégiques, remplacer le contenu généré par du contenu statique détaillé dans `cityServiceContent`.

## Métriques de Qualité

- **Similarité entre pages** : < 30% (objectif Google)
- **Longueur minimale** : 500 mots uniques par page
- **Taux d'unicité** : 100% des méta-descriptions
- **Mentions locales** : 5-10 par page

## Tests

```bash
# Vérifier qu'une ville retourne du contenu
const content = getCityServiceContent('montreuil', 'nettoyage-canape-tissu');
console.log(content !== null); // true

# Vérifier unicité entre villes
const content1 = getCityServiceContent('romainville', 'nettoyage-canape-tissu');
const content2 = getCityServiceContent('pantin', 'nettoyage-canape-tissu');
console.log(content1.localIntro !== content2.localIntro); // true
```

## Roadmap

- [ ] Ajouter plus de villes en contenu statique
- [ ] Enrichir les templates du générateur
- [ ] Intégrer des données INSEE réelles
- [ ] Système de scoring de qualité du contenu
- [ ] Tests automatisés de similarité

## Notes Techniques

### Pourquoi l'approche hybride ?

**Contenu statique** (3 villes) :
- Qualité maximale
- Personnalisation extrême
- Villes stratégiques (siège, forte demande)

**Contenu généré** (15 villes) :
- Maintenabilité
- Évite fichier géant non versionnable
- Qualité suffisante pour SEO
- Facilite ajout de nouvelles villes

### Performance

Le contenu généré est créé à la volée mais reste très performant :
- Pas de DB query
- Génération en mémoire
- < 1ms par variation
- Peut être mis en cache si besoin

## Contact

Pour toute question sur ce système, consulter la documentation principale du projet.
